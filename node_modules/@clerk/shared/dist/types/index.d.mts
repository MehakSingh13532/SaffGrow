import React, { useState } from 'react';
import { SignIn } from "@clerk/clerk-react";
import { Link } from 'react-router-dom';

export default function SignInPage() {
  const [isAdminMode, setIsAdminMode] = useState(false);

  return (
    <div style={{ 
      display: 'flex', justifyContent: 'center', alignItems: 'center', 
      minHeight: '100vh', background: '#020617', padding: '20px' 
    }}>
      <div style={{ 
        background: '#0f172a', padding: '40px', borderRadius: '28px', 
        width: '100%', maxWidth: '450px', border: '1px solid #1e293b',
        boxShadow: isAdminMode ? '0 0 20px #facc1555' : 'none'
      }}>
        
        <Link to="/" style={{ color: '#facc15', textDecoration: 'none', fontWeight: 'bold' }}>‚Üê Back</Link>

        {/* FORCED TOGGLE CONTAINER */}
        <div style={{ 
          display: 'flex', background: '#020617', padding: '5px', 
          borderRadius: '12px', margin: '25px 0', position: 'relative', zIndex: 10
        }}>
          <button 
            onClick={() => setIsAdminMode(false)}
            style={{ 
              flex: 1, padding: '12px', borderRadius: '10px', border: 'none', cursor: 'pointer',
              background: !isAdminMode ? '#facc15' : 'transparent', 
              color: !isAdminMode ? '#020617' : '#94a3b8', fontWeight: 'bold'
            }}
          >
            User Login
          </button>
          <button 
            onClick={() => setIsAdminMode(true)}
            style={{ 
        flex: 1, padding: '12px', borderRadius: '10px', border: 'none', cursor: 'pointer',
              background: isAdminMode ? '#facc15' : 'transparent', 
              color: isAdminMode ? '#020617' : '#94a3b8', fontWeight: 'bold'
            }}
          >
            Admin Login
          </button>
        </div>

        <div key={isAdminMode ? "admin" : "user"}>
          <SignIn 
            routing="path" 
            path="/signin" 
            appearance={{
              variables: { colorPrimary: '#facc15', colorBackground: '#0f172a', colorText: 'white' },
              elements: {
                card: "bg-transparent shadow-none p-0",
                headerTitle: "hidden",
                headerSubtitle: "hidden",
                socialButtonsBlockButton: isAdminMode ? "hidden" : "flex",
                dividerRow: isAdminMode ? "hidden" : "flex",
                footerAction: isAdminMode ? "hidden" : "flex"
              }
            }}
          />
        </div>
      </div>
    </div>
  );
}